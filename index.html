<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FlyClash Converter PRO — Itsbad</title>
<style>
body { font-family: Arial, sans-serif; background: #0d1117; color: #e6edf3; padding: 20px; }
.container { max-width: 900px; margin: auto; background: #161b22; padding: 20px; border-radius: 10px; }
h1 { text-align: center; }
label { display: block; margin-top: 15px; font-weight: bold; }
input, select, textarea { width: 100%; padding: 10px; border-radius: 5px; border: none; margin-top: 5px; background: #0d1117; color: white; }
button { margin-top: 20px; width: 100%; padding: 12px; border: none; border-radius: 6px; background: #238636; color: white; font-size: 16px; cursor: pointer; }
.question { cursor: pointer; margin-left: 6px; color: #58a6ff; }
.popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #161b22; padding: 20px; border-radius: 10px; border: 1px solid #30363d; max-width: 400px; z-index: 1000; }
.popup button { background: #d52020; margin-top: 10px; }
.overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 900; }
.result { white-space: pre; background: #0d1117; padding: 15px; border-radius: 10px; margin-top: 20px; border: 1px solid #30363d; }
</style>
</head>
<body>
<div class="container">
<h1>FlyClash Converter PRO — Itsbad</h1>

<label>Masukkan Akun V2Ray/VLESS</label>
<textarea id="inputConfig" rows="5" placeholder="Paste akun V2Ray/VLESS di sini..."></textarea>

<label>Mode Koneksi <span class="question" onclick="showPopup('mode')">?</span></label>
<select id="mode">
<option value="bestping">Best Ping</option>
<option value="loadbalance">Load Balance</option>
<option value="manual">Manual</option>
</select>

<label>DNS Mode <span class="question" onclick="showPopup('dns')">?</span></label>
<select id="dnsMode">
<option value="fakeip">Fake-IP (Default)</option>
<option value="dns">DNS Normal</option>
<option value="custom">Custom DNS</option>
</select>

<label>Custom DNS (jika dipilih)</label>
<input id="dnsCustom" placeholder="1.1.1.1, 1.0.0.1" />

<h3>FlyClash System Settings (Auto Apply)</h3>
<ul>
<li>Always Reconnect</li>
<li>WakeLock ON</li>
<li>MTU: 1500</li>
<li>UDPGW: 7300</li>
<li>HTTP Proxy Port: 8800</li>
<li>SOCKS5 Port: 3080</li>
<li>DNS Local Port: 7200</li>
<li>DNS Primary: 1.1.1.1</li>
<li>DNS Secondary: 1.0.0.1</li>
<li>Ping Interval: 1000ms</li>
<li>Timeout: 3000ms</li>
<li>Auto Reconnect: 3x</li>
</ul>

<button onclick="generateConfig()">Generate FlyClash Script</button>

<div id="result" class="result"></div>
</div>

<div id="overlay" class="overlay"></div>
<div id="popup" class="popup">
<div id="popupText"></div>
<button onclick="closePopup()">Tutup</button>
</div>

<script>
function showPopup(type){
 let text = {
  mode: "Best Ping = memilih server tercepat otomatis.\nLoad Balance = membagi trafik ke semua server.\nManual = pilih server tertentu.",
  dns: "Fake-IP = kompitibel & cepat.\nDNS Normal = tanpa Fake-IP.\nCustom = masukkan DNS sendiri."
 }[type];
 document.getElementById('popupText').innerText = text;
 document.getElementById('popup').style.display = 'block';
 document.getElementById('overlay').style.display = 'block';
}
function closePopup(){
 document.getElementById('popup').style.display = 'none';
 document.getElementById('overlay').style.display = 'none';
}

function generateConfig(){
 let input = document.getElementById('inputConfig').value.trim().split("\n");
 let mode = document.getElementById('mode').value;
 let dnsMode = document.getElementById('dnsMode').value;
 let dnsCustom = document.getElementById('dnsCustom').value;

 let dnsBlock = dnsMode === 'custom' ? dnsCustom : dnsMode;

 let output = "# FlyClash Config — Generated by Itsbad\n";
 output += `mode: ${mode}\n`;
 output += `dns_mode: ${dnsBlock}\n`;
 output += `system: { mtu:1500, udpgw:7300, wakelock:true, always_reconnect:true, http_port:8800, socks_port:3080, dns_local:7200, interval:1000, timeout:3000, autoreconnect:3 }\n`;

 output += "proxies:\n";
 input.forEach((line, i)=>{
  if(line.trim() !== "") output += `  - name: server${i+1}\n    link: "${line.trim()}"\n`;
 });

 document.getElementById('result').innerText = output;
}
</script>
</body>
</html>
